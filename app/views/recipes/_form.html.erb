<%= form_for @recipe do |f| %>
    <% if @recipe.errors.any? %>
        <div class="alert alert-danger">
          <% @recipe.errors.full_messages.each do |message| %>
              <div>
                <%= message %>
              </div>
          <% end %>
        </div>
    <% end %>
    <div class="row">
      <div class="col-md-6">

        <%= f.hidden_field :user_id %>
        <div class="form-group">
          <div class="btn-group" data-toggle="buttons">
            <% RecipeType.all.each do |type| %>
                <% checked = (type.id == @recipe.type_id) ? 'active' : '' %>
                <label class='btn btn-default <%= checked %>'>
                  <%= f.radio_button :type_id, type.id, checked: (type.id == @recipe.type_id) %>
                  <%= type.name %>
                </label>
            <% end %>
          </div>
        </div>
        <div class="form-group">
          <%= f.label :name %>
          <%= f.text_field :name, class: 'form-control' %>
        </div>
        <div class="form-group">
          <div class='row'>
            <div class="col-md-6">
              <%= f.label :preparation_time %>
              <%= f.time_field :preparation_time, class: 'form-control' %>
            </div>

            <div class="col-md-6">
              <%= f.label :cooking_time %>
              <%= f.time_field :cooking_time, class: 'form-control' %>
            </div>
          </div>
        </div>


      </div>
      <div class="col-md-6">
        <div class="form-group">
          <%= f.label :ingredients %>
          <%= react_component 'ReactSelectize', name: 'ingredients', values: @recipe.ingredients.as_json, multiple: true,
                              selectId: 'select-ingredients', url: list_ingredients_path %>
        </div>

        <div class="form-group">
          <%= f.label :image %>
          <%= f.file_field :image %>
        </div>
      </div>
    </div>

    <hr>
    <div class="form-group">
      <%= f.label :preparation, 'Preparation description' %>
      <%= f.text_area :preparation, class: 'markdown-editor', 'data-preview-url' => markdown_render_path %>
    </div>
    <div class="form-group">
      <%= f.submit 'Submit', class: 'btn btn-success' %>
    </div>
<% end %>